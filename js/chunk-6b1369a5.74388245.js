(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b1369a5"],{2494:function(o,e,n){o.exports=n.p+"img/processStartNode.0ec4463c.png"},"9d1a":function(o,e,n){"use strict";n.r(e);var t=function(){var o=this,e=o.$createElement,n=o._self._c||e;return n("div",{directives:[{name:"t9n",rawName:"v-t9n.deep",value:"docs",expression:"'docs'",modifiers:{deep:!0}}],staticClass:"engine"},[n("h1",[o._v("Движок")]),n("p",[o._v("Этот класс позволяет обрабатывать данные на основе потоков в узлах и передавать их из выходных данных во входные. Движок не зависит от других компонентов редактора. Все, что ему нужно - это идентификатор, воркеры Компонентов и JSON данные")]),n("Code",{attrs:{source:"engineNode"}}),n("p",[o._v("Он может работать независимо от Редактора")]),n("h2",[o._v("Обработка")]),n("p",[o._v("Обход узлов выполняется следующим образом:")]),n("img",{attrs:{src:o.processImg}}),n("p",[o._v("Рассмотрим ситуацию, когда во время работы в редакторе нужно сразу получать результаты изменений (это легко сделать с событием 'process')")]),n("Code",{attrs:{source:"engineProcess"}}),n("p",[o._v(" В общем случае при каждом изиенении в схеме (узлы, соединения, данные узла) необходимо выполнять обработку. \nВ связи с тем, что воркеры могут быть асинхронными, метод 'process' также является асинхронным.\nТак как действия, провоцирующие обработку, могут выполняться не дожидаясь завершения предыдущей обработки, нам необходим метод `abort`, который ожидает завершения предыдущей обработки и гарантирует целостность данных.")]),n("p",[o._v("Обычно есть какой-то основной узел, с которого должна начинаться обработка или все данные идут к нему, тогда вы можете указать его:")]),n("Code",{attrs:{source:"processMethod"}}),n("p",[o._v(" Это может быть важно в ситуациях, когда узел запрашивает данные одновременно из нескольких узлов.\nНапример, если стартовым узлом будет Output material, тогда верхняя и нижняя цепочка узлов будут обработаны параллельно.\nЕсли начать обработку с узла Lightness, тогда обработка нижних узлов будет начата только после получения результата в текущем.")]),n("img",{attrs:{src:o.startNodeImg}}),n("p",[o._v("Также вы можете передавать дополнительные аргументы внутрь воркеров")]),n("Code",{attrs:{source:"processArgs"}}),n("p",[o._v("Каждому воркеру, обработанному этим процессом, будут переданы аргументы")]),n("Code",{attrs:{source:"worker"}}),n("p",[o._v("Если во время обработки возникает ошибка (обнаружена рекурсия, неправильный startId, неверные данные), вы можете получить его сообщение и данные")]),n("Code",{attrs:{source:"onError"}}),n("h2",[o._v("Кроссплатформенный Движок")]),n("p",[o._v("Внимание! Текущая версия движка на С++ не совместима с версией 1.0.0, но может быть обновлена при необходимости")]),o._m(0)],1)},s=[function(){var o=this,e=o.$createElement,n=o._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/retejs/cpp-engine"}},[o._v("Cpp Engine ")])])])}],r=n("c660"),c=n.n(r),i=n("2494"),p=n.n(i),a={data:function(){return{processImg:c.a,startNodeImg:p.a}}},d=a,u=n("2877"),g=function(o){o.options.code||(o.options.code={}),o.options.code["engineNode"]="var engine = new Rete.Engine('demo@0.1.0');\n\nengine.register(myComponent);\nawait engine.process(data);"},f=g,v=function(o){o.options.code||(o.options.code={}),o.options.code["engineProcess"]="editor.on('process', async () => {\n    await engine.abort();\n    await engine.process(editor.toJSON());\n});"},m=v,_=function(o){o.options.code||(o.options.code={}),o.options.code["processMethod"]="engine.process(data, node.id);"},l=_,w=function(o){o.options.code||(o.options.code={}),o.options.code["processArgs"]="engine.process(data, null, arg1, arg2);"},h=w,C=function(o){o.options.code||(o.options.code={}),o.options.code["worker"]="worker(node, inputs, outputs, arg1, arg2) {\n  outputs['num'] = node.data.num;\n}"},b=C,y=function(o){o.options.code||(o.options.code={}),o.options.code["onError"]="engine.on('error', ({ message, data }) => { });"},N=y,k=Object(u["a"])(d,t,s,!1,null,null,null);"function"===typeof f&&f(k),"function"===typeof m&&m(k),"function"===typeof l&&l(k),"function"===typeof h&&h(k),"function"===typeof b&&b(k),"function"===typeof N&&N(k);e["default"]=k.exports},c660:function(o,e,n){o.exports=n.p+"img/process.750edb1a.gif"}}]);